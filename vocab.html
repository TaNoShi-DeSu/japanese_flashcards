<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>å–®å­—å­¸ç¿’ - N5</title>
<style>
  body { font-family: sans-serif; margin:20px; background:#f9f9f9; }
  h1 { text-align:center; }
  .controls { margin-bottom: 20px; text-align:center; }
  .controls label { margin-right:8px; font-weight:bold; }
  .category { margin-bottom: 10px; background:#fff; border:1px solid #ddd; border-radius:5px; overflow:hidden; }
  summary { cursor:pointer; background:#eee; padding:10px; font-weight:bold; }
  table { width:100%; border-collapse:collapse; }
  td, th { padding:8px; border-bottom:1px solid #ddd; }
  td { vertical-align: middle; }
  button.speak-btn {
    font-size: 16px;
    padding: 3px 8px;
    margin-left: 10px;
    cursor: pointer;
  }
  .pagination {
    margin-top: 20px; text-align: center;
  }
  .pagination button {
    margin: 0 5px; padding: 5px 10px; font-size: 16px;
    cursor: pointer;
  }
  #backBtn {
    display: block;
    width: 100%;
    max-width: 300px;
    margin: 30px auto 0;
    padding: 12px;
    background: #007bff;
    color: #fff;
    text-decoration: none;
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    border-radius: 8px;
    transition: background 0.3s;
  }
  #backBtn:hover { background: #0056b3; }
</style>
</head>
<body>

<h1>å–®å­—å­¸ç¿’ - JLPT N5</h1>

<div class="controls">
  <label for="voiceSelect">è²ç·š:</label>
  <select id="voiceSelect"></select>

  <label for="rateRange" style="margin-left:20px;">èªé€Ÿ:</label>
  <input type="range" id="rateRange" min="0.1" max="2" step="0.1" value="1" />
  <span id="rateLabel">1.0</span>
</div>

<div id="categories"></div>

<div class="pagination">
  <button id="prevPage">ä¸Šä¸€é </button>
  <span id="pageInfo"></span>
  <button id="nextPage">ä¸‹ä¸€é </button>
</div>

<a id="backBtn" href="index.html">å›ç›®éŒ„</a>

<script>
  const data = {
    "æ‰“æ‹›å‘¼": [
      { jp: "ã“ã‚“ã«ã¡ã¯", roma: "Konnichiwa", zh: "ä½ å¥½" },
      { jp: "ãŠã¯ã‚ˆã†", roma: "Ohayou", zh: "æ—©å®‰" },
      { jp: "ã“ã‚“ã°ã‚“ã¯", roma: "Konbanwa", zh: "æ™šä¸Šå¥½" },
      { jp: "ãŠã‚„ã™ã¿", roma: "Oyasumi", zh: "æ™šå®‰ï¼ˆç¡å‰ï¼‰" },
      { jp: "ã‚ã‚ŠãŒã¨ã†", roma: "Arigatou", zh: "è¬è¬" },
      { jp: "ã™ã¿ã¾ã›ã‚“", roma: "Sumimasen", zh: "ä¸å¥½æ„æ€" },
      { jp: "ã¯ã„", roma: "Hai", zh: "æ˜¯" },
      { jp: "ã„ã„ãˆ", roma: "Iie", zh: "ä¸æ˜¯" },
      { jp: "ã¯ã˜ã‚ã¾ã—ã¦", roma: "Hajimemashite", zh: "åˆæ¬¡è¦‹é¢" },
      { jp: "ã©ã†ã", roma: "Douzo", zh: "è«‹" }
    ],
    "å‹•è©": [
      { jp: "è¡Œã", roma: "Iku", zh: "å»" },
      { jp: "æ¥ã‚‹", roma: "Kuru", zh: "ä¾†" },
      { jp: "è¦‹ã‚‹", roma: "Miru", zh: "çœ‹" },
      { jp: "é£Ÿã¹ã‚‹", roma: "Taberu", zh: "åƒ" },
      { jp: "é£²ã‚€", roma: "Nomu", zh: "å–" },
      { jp: "èã", roma: "Kiku", zh: "è½/å•" },
      { jp: "æ›¸ã", roma: "Kaku", zh: "å¯«" },
      { jp: "è©±ã™", roma: "Hanasu", zh: "èªª" },
      { jp: "èª­ã‚€", roma: "Yomu", zh: "è®€" },
      { jp: "è²·ã†", roma: "Kau", zh: "è²·" }
    ],
    "å½¢å®¹è©": [
      { jp: "å¤§ãã„", roma: "Ookii", zh: "å¤§" },
      { jp: "å°ã•ã„", roma: "Chiisai", zh: "å°" },
      { jp: "æ–°ã—ã„", roma: "Atarashii", zh: "æ–°" },
      { jp: "å¤ã„", roma: "Furui", zh: "èˆŠ" },
      { jp: "é«˜ã„", roma: "Takai", zh: "é«˜/è²´" },
      { jp: "å®‰ã„", roma: "Yasui", zh: "ä¾¿å®œ" },
      { jp: "æ—©ã„", roma: "Hayai", zh: "å¿«/æ—©" },
      { jp: "é…ã„", roma: "Osoi", zh: "æ…¢/æ™š" },
      { jp: "ç¾ã—ã„", roma: "Utsukushii", zh: "ç¾éº—" },
      { jp: "æ¥½ã—ã„", roma: "Tanoshii", zh: "å¿«æ¨‚" }
    ],
    "åè©": [
      { jp: "äºº", roma: "Hito", zh: "äºº" },
      { jp: "å…ˆç”Ÿ", roma: "Sensei", zh: "è€å¸«" },
      { jp: "å­¦ç”Ÿ", roma: "Gakusei", zh: "å­¸ç”Ÿ" },
      { jp: "å‹é”", roma: "Tomodachi", zh: "æœ‹å‹" },
      { jp: "å®¶æ—", roma: "Kazoku", zh: "å®¶æ—" },
      { jp: "çŒ«", roma: "Neko", zh: "è²“" },
      { jp: "çŠ¬", roma: "Inu", zh: "ç‹—" },
      { jp: "æ°´", roma: "Mizu", zh: "æ°´" },
      { jp: "æœ¬", roma: "Hon", zh: "æ›¸" },
      { jp: "å­¦æ ¡", roma: "Gakkou", zh: "å­¸æ ¡" }
    ],
    "å ´æ‰€": [
      { jp: "é§…", roma: "Eki", zh: "è»Šç«™" },
      { jp: "ç©ºæ¸¯", roma: "Kuukou", zh: "æ©Ÿå ´" },
      { jp: "å­¦æ ¡", roma: "Gakkou", zh: "å­¸æ ¡" },
      { jp: "ç—…é™¢", roma: "Byouin", zh: "é†«é™¢" },
      { jp: "åº—", roma: "Mise", zh: "åº—" },
      { jp: "å®¶", roma: "Ie", zh: "å®¶" },
      { jp: "å›³æ›¸é¤¨", roma: "Toshokan", zh: "åœ–æ›¸é¤¨" },
      { jp: "å…¬åœ’", roma: "Kouen", zh: "å…¬åœ’" },
      { jp: "ãƒ›ãƒ†ãƒ«", roma: "Hoteru", zh: "é£¯åº—" },
      { jp: "éƒµä¾¿å±€", roma: "Yuubinkyoku", zh: "éƒµå±€" }
    ],
    "æ™‚é–“": [
      { jp: "ä»Š", roma: "Ima", zh: "ç¾åœ¨" },
      { jp: "ä»Šæ—¥", roma: "Kyou", zh: "ä»Šå¤©" },
      { jp: "æ˜æ—¥", roma: "Ashita", zh: "æ˜å¤©" },
      { jp: "æ˜¨æ—¥", roma: "Kinou", zh: "æ˜¨å¤©" },
      { jp: "é€±æœ«", roma: "Shuumatsu", zh: "é€±æœ«" },
      { jp: "æœ", roma: "Asa", zh: "æ—©ä¸Š" },
      { jp: "æ˜¼", roma: "Hiru", zh: "ä¸­åˆ" },
      { jp: "å¤œ", roma: "Yoru", zh: "æ™šä¸Š" },
      { jp: "æ™‚é–“", roma: "Jikan", zh: "æ™‚é–“" },
      { jp: "åˆ†", roma: "Fun", zh: "åˆ†é˜" }
    ],
    "æ•¸å­—": [
      { jp: "ä¸€", roma: "Ichi", zh: "ä¸€" },
      { jp: "äºŒ", roma: "Ni", zh: "äºŒ" },
      { jp: "ä¸‰", roma: "San", zh: "ä¸‰" },
      { jp: "å››", roma: "Shi / Yon", zh: "å››" },
      { jp: "äº”", roma: "Go", zh: "äº”" },
      { jp: "å…­", roma: "Roku", zh: "å…­" },
      { jp: "ä¸ƒ", roma: "Shichi / Nana", zh: "ä¸ƒ" },
      { jp: "å…«", roma: "Hachi", zh: "å…«" },
      { jp: "ä¹", roma: "Kyuu", zh: "ä¹" },
      { jp: "å", roma: "Juu", zh: "å" }
    ],
    "é¡è‰²": [
      { jp: "èµ¤", roma: "Aka", zh: "ç´…è‰²" },
      { jp: "é’", roma: "Ao", zh: "è—è‰²" },
      { jp: "ç™½", roma: "Shiro", zh: "ç™½è‰²" },
      { jp: "é»’", roma: "Kuro", zh: "é»‘è‰²" },
      { jp: "é»„è‰²", roma: "Kiiro", zh: "é»ƒè‰²" },
      { jp: "ç·‘", roma: "Midori", zh: "ç¶ è‰²" },
      { jp: "èŒ¶è‰²", roma: "Chairo", zh: "æ£•è‰²" },
      { jp: "ç´«", roma: "Murasaki", zh: "ç´«è‰²" },
      { jp: "ç°è‰²", roma: "Haiiro", zh: "ç°è‰²" },
      { jp: "æ¡ƒè‰²", roma: "Momoiro", zh: "ç²‰ç´…è‰²" }
    ],
    "æƒ…æ„Ÿ": [
      { jp: "å¬‰ã—ã„", roma: "Ureshii", zh: "é–‹å¿ƒ" },
      { jp: "æ‚²ã—ã„", roma: "Kanashii", zh: "é›£é" },
      { jp: "æ¥½ã—ã„", roma: "Tanoshii", zh: "å¿«æ¨‚" },
      { jp: "å¯‚ã—ã„", roma: "Sabishii", zh: "å¯‚å¯" },
      { jp: "ç–²ã‚ŒãŸ", roma: "Tsukareta", zh: "ç´¯äº†" },
      { jp: "æ€–ã„", roma: "Kowai", zh: "å¯æ€•" },
      { jp: "ã†ã‚Œã—ã„", roma: "Ureshii", zh: "é«˜èˆˆ" },
      { jp: "æ¥ãšã‹ã—ã„", roma: "Hazukashii", zh: "å®³ç¾" },
      { jp: "æ€’ã‚‹", roma: "Okoru", zh: "ç”Ÿæ°£" },
      { jp: "å®‰å¿ƒ", roma: "Anshin", zh: "æ”¾å¿ƒ" }
    ],
    "è‡ªç„¶": [
      { jp: "å±±", roma: "Yama", zh: "å±±" },
      { jp: "å·", roma: "Kawa", zh: "æ²³å·" },
      { jp: "æµ·", roma: "Umi", zh: "æµ·" },
      { jp: "ç©º", roma: "Sora", zh: "å¤©ç©º" },
      { jp: "æ˜Ÿ", roma: "Hoshi", zh: "æ˜Ÿæ˜Ÿ" },
      { jp: "æœˆ", roma: "Tsuki", zh: "æœˆäº®" },
      { jp: "å¤ªé™½", roma: "Taiyou", zh: "å¤ªé™½" },
      { jp: "èŠ±", roma: "Hana", zh: "èŠ±" },
      { jp: "æœ¨", roma: "Ki", zh: "æ¨¹æœ¨" },
      { jp: "è‘‰", roma: "Ha", zh: "è‘‰å­" }
    ]
  };

  const allCategories = Object.keys(data);
  const pageSize = 5;
  let currentPage = 1;

  const categoriesDiv = document.getElementById("categories");
  const pageInfo = document.getElementById("pageInfo");
  const prevBtn = document.getElementById("prevPage");
  const nextBtn = document.getElementById("nextPage");

  function renderPage(page) {
    categoriesDiv.innerHTML = "";
    const start = (page - 1) * pageSize;
    const end = start + pageSize;
    const pageCategories = allCategories.slice(start, end);

    pageCategories.forEach(category => {
      const details = document.createElement("details");
      details.className = "category";

      const summary = document.createElement("summary");
      summary.textContent = category;
      details.appendChild(summary);

      const table = document.createElement("table");
      data[category].forEach(item => {
        const row = document.createElement("tr");
        const jpTd = document.createElement("td");
        jpTd.textContent = item.jp;
        const romaTd = document.createElement("td");
        romaTd.textContent = item.roma;
        const zhTd = document.createElement("td");
        zhTd.textContent = item.zh;

        const speakBtn = document.createElement("button");
        speakBtn.textContent = "ğŸ”Š";
        speakBtn.className = "speak-btn";
        speakBtn.onclick = () => speak(item.jp);

        row.appendChild(jpTd);
        row.appendChild(romaTd);
        row.appendChild(zhTd);
        row.appendChild(speakBtn);
        table.appendChild(row);
      });

      details.appendChild(table);
      categoriesDiv.appendChild(details);
    });

    pageInfo.textContent = `ç¬¬ ${page} é  / å…± ${Math.ceil(allCategories.length / pageSize)} é `;
    prevBtn.disabled = page === 1;
    nextBtn.disabled = end >= allCategories.length;
  }

  prevBtn.onclick = () => {
    if (currentPage > 1) {
      currentPage--;
      renderPage(currentPage);
    }
  };

  nextBtn.onclick = () => {
    if (currentPage * pageSize < allCategories.length) {
      currentPage++;
      renderPage(currentPage);
    }
  };

  // èªéŸ³è¨­å®š
  let voices = [];
  let currentVoice;
  const voiceSelect = document.getElementById("voiceSelect");
  const rateRange = document.getElementById("rateRange");
  const rateLabel = document.getElementById("rateLabel");

  function populateVoices() {
    voices = speechSynthesis.getVoices().filter(v => v.lang.startsWith("ja"));
    voiceSelect.innerHTML = "";
    voices.forEach(v => {
      const option = document.createElement("option");
      option.value = v.name;
      option.textContent = `${v.name} (${v.lang})`;
      voiceSelect.appendChild(option);
    });
    if (voices.length > 0) {
      currentVoice = voices[0];
      voiceSelect.value = currentVoice.name;
    }
  }

  voiceSelect.onchange = () => {
    currentVoice = voices.find(v => v.name === voiceSelect.value);
  };

  rateRange.oninput = () => {
    rateLabel.textContent = rateRange.value;
  };

  function speak(text) {
    if (!text) return;
    const utter = new SpeechSynthesisUtterance(text);
    utter.lang = "ja-JP";
    utter.rate = parseFloat(rateRange.value);
    if (currentVoice) utter.voice = currentVoice;
    speechSynthesis.speak(utter);
  }

  if (speechSynthesis.onvoiceschanged !== undefined) {
    speechSynthesis.onvoiceschanged = populateVoices;
  }
  populateVoices();

  renderPage(currentPage);
</script>

</body>
</html>
